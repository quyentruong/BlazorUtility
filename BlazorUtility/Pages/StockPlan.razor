@page "/stockplan"
<h3>Stock Plan</h3>

<MudGrid>
    <MudItem xs="4" sm="3">
        <MudNumericField Margin="Margin.Dense" DebounceInterval="500" MaxLength="5" Min="0" Max="999" @bind-Value="StockPrice" HelperText="Current Stock Price" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Info" />
    </MudItem>
    <MudItem xs="4" sm="3">
        <MudNumericField Margin="Margin.Dense" DebounceInterval="500" MaxLength="5" Min="-999" Max="999" @bind-Value="CustomPercentage" HelperText="Percentage" Adornment="Adornment.End" AdornmentText="%" AdornmentColor="Color.Info" />
    </MudItem>
    <MudItem xs="4" sm="3">
        <MudNumericField Margin="Margin.Dense" DebounceInterval="500" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1+CustomPercentage/100)" HelperText="New Stock Price" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Info" />
    </MudItem>
</MudGrid>

<h3>Buying Plan</h3>
<MudGrid>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.95)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 5%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.9)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 10%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.85)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 15%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.8)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 20%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.75)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 25%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(0.7)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Error" HelperText="Stock Price down 30%" />
    </MudItem>
</MudGrid>

<h3>Selling Plan</h3>
<MudGrid>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.05)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 5%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.1)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 10%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.15)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 15%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.2)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 20%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.25)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 25%" />
    </MudItem>
    <MudItem xs="6" sm="2">
        <MudTextField Margin="Margin.Dense" MaxLength="5" Disabled T="string" Text="@GetStockPriceByPercentage(1.3)" Adornment="Adornment.Start" AdornmentText="$" AdornmentColor="Color.Success" HelperText="Stock Price up 30%" />
    </MudItem>
</MudGrid>

@code {
    private double StockPrice = 0;
    private double CustomPercentage = 0;
    private string GetStockPriceByPercentage(double percentage)
    {
        return Math.Round(StockPrice * percentage, 2).ToString();
    }
}
